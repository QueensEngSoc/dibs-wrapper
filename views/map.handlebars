<link href="https://code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css" rel="stylesheet" />
<link rel='stylesheet' type='text/css' href='CSS/timepicker.css'/>
<script type='text/javascript' src='JS/timepicker.js'></script>
<!--<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js'></script>-->
<script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment-with-locales.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/js/tempusdominus-bootstrap-4.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/css/tempusdominus-bootstrap-4.min.css" />

<style type="text/css">
    .hidden {
        display: none;
    }

    .half {
        width: 75%;
    }

    div {
        text-align: center;
    }

    .btn {
        cursor: pointer;
    }
</style>
<script type="text/javascript">
    var current = 'first';

    function switchTo(toThis) {
        if (toThis === current)
            return;

        switchVisible(current, toThis);
        current = toThis;
    }

    function switchVisible(from, to) {
        $('#' + from).addClass('hidden');
        $('#' + from + '-button').removeClass('active');
        $('#' + to).removeClass('hidden');
        $('#' + to + '-button').addClass('active');
    }

</script>
<br>
<div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-3">
        <div class="form-group text-center">
            <h3>
                <strong>Pick a day:&nbsp</strong><br>
                <input style="width: 200px;" type='text' id="datepicker" readonly="readonly" />
            </h3>
        </div>
    </div>
    <div class="col-md-3">
        <div class="form-group text-center">
            <h3>
                <strong>Pick a time:&nbsp</strong>
                <div class="input-group date" id="timepicker1" data-target-input="nearest">
                    <input type="text" class="form-control datetimepicker-input" data-target="#timepicker1"/>
                    <div class="input-group-append" data-target="#timepicker1" data-toggle="datetimepicker">
                        <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                    </div>
                </div>
            </h3>
        </div>
    </div>
</div>
<script type='text/javascript'>
</script>
<br><br>
<div style="text-align: center;">
    <div class="btn-group" role="group" aria-label="Basic example">
        <button id="first-button" type="button" class="btn btn-secondary active" onclick="switchTo('first')">First
            Floor
        </button>
        <button id="second-button" type="button" class="btn btn-secondary" onclick="switchTo('second')">Second Floor
        </button>
        <button id="third-button" type="button" class="btn btn-secondary" onclick="switchTo('third')">Third Floor
        </button>
    </div>
</div>

<div class="row" style="padding-top: 20px">
    <div class="col-md-2">
        <ul class="list-group" style="padding-top: 30px; padding-left: 10px; margin-right: -20px;">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                7:30-8:30
                <span class="badge badge-primary badge-pill">14</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                8:30-9:30
                <span class="badge badge-primary badge-pill">2</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                9:30-10:30
                <span class="badge badge-primary badge-pill">1</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                10:30-11:30
                <span class="badge badge-primary badge-pill">1</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                11:30-12:30
                <span class="badge badge-primary badge-pill">1</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                12:30-1:30
                <span class="badge badge-primary badge-pill">1</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                1:30-2:30
                <span class="badge badge-primary badge-pill">1</span>
            </li>


        </ul>
    </div>
    <div class="col-md-10">
        <div id="first">
            <object data="img/ILC-1.svg" id="floor1" type="image/svg+xml" class="half">
                <img src="img/ILC-1.svg"/>
            </object>
        </div>
        <div id="second" class="hidden">
            <object data="img/ILC-2.svg" id="floor2" type="image/svg+xml" class="half">
                <img src="img/ILC-2.svg"/>
            </object>
        </div>
        <div id="third" class="hidden">
            <object data="img/ILC-3.svg" id="floor3" type="image/svg+xml" class="half">
                <img src="img/ILC-3.svg"/>
            </object>
        </div>
    </div>
</div>

<script>
    var f1 = document.getElementById("floor1");

    // It's important to add an load event listener to the object,
    // as it will load the svg doc asynchronously
    f1.addEventListener("load", function () {

        // get the inner DOM of alpha.svg
        var svgDoc = f1.contentDocument;
        // get the inner element by id

        var roomStat = "{{roomStatus}}";
        roomStat = roomStat.replace(/&quot;/g, '"');

        var roomStatus = JSON.parse(roomStat);
        <!--var roomStatus = {{roomStatus}};-->
        roomStatus.forEach(function (room) {
            if (!room.isFree) {
                var svgRoom = svgDoc.getElementById(room.roomNum.toLowerCase());
                if (svgRoom != null) {
                    if (room.isMine)
                        svgRoom.classList.add('mine');
                    else
                        svgRoom.classList.add('booked');
                }
            }
        });

    }, false);

    var f2 = document.getElementById("floor2");

    // It's important to add an load event listener to the object,
    // as it will load the svg doc asynchronously
    f2.addEventListener("load", function () {

        // get the inner DOM of alpha.svg
        var svgDoc = f2.contentDocument;
        // get the inner element by id

        var roomStat = "{{roomStatus}}";
        roomStat = roomStat.replace(/&quot;/g, '"');

        var roomStatus = JSON.parse(roomStat);
        <!--var roomStatus = {{roomStatus}};-->
        roomStatus.forEach(function (room) {
            if (!room.isFree) {
                var svgRoom = svgDoc.getElementById(room.roomNum.toLowerCase());
                if (svgRoom != null) {
                    if (room.isMine)
                        svgRoom.classList.add('mine');
                    else
                        svgRoom.classList.add('booked');
                }
            }
        });

    }, false);

    var f3 = document.getElementById("floor3");

    // It's important to add an load event listener to the object,
    // as it will load the svg doc asynchronously
    f3.addEventListener("load", function () {

        // get the inner DOM of alpha.svg
        var svgDoc = f3.contentDocument;
        // get the inner element by id

        var roomStat = "{{roomStatus}}";
        roomStat = roomStat.replace(/&quot;/g, '"');

        var roomStatus = JSON.parse(roomStat);
        <!--var roomStatus = {{roomStatus}};-->
        roomStatus.forEach(function (room) {
            if (!room.isFree) {
                var svgRoom = svgDoc.getElementById(room.roomNum.toLowerCase());
                if (svgRoom != null) {
                    if (room.isMine)
                        svgRoom.classList.add('mine');
                    else
                        svgRoom.classList.add('booked');
                }
            }
        });

    }, false);


</script>
<script src="/JS/mapJS.js"></script>
